@implements IDisposable

@code {
    [CascadingParameter] public required NavTabs NavTabs { get; set; }

    [Parameter, EditorRequired] public string Title { get; set; } = string.Empty;
    
    /// <summary>
    /// Will default to the title if not provided
    /// </summary>
    [Parameter] public string Key { get; set; } = string.Empty;
    
    [Parameter] public RenderFragment? ChildContent { get; set; } 

    public bool IsActive { get; set; } = false;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        
        if (string.IsNullOrWhiteSpace(Key))
        {
            Key = Title;
        }
        
        NavTabs.Add(this);
    }

    public void Dispose()
    {
        NavTabs.Remove(this);
    }

}