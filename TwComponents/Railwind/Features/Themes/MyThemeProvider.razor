@using Railwind.Common.Enums
@using Railwind.Enums

<CascadingValue Value="@this">
    @ChildContent
</CascadingValue>

@code {
    [Parameter, EditorRequired] public Colors PrimaryColor { get; set; }
    [Parameter, EditorRequired] public Colors SecondaryColor { get; set; }
    [Parameter, EditorRequired] public Colors AccentColor { get; set; }
    [Parameter, EditorRequired] public Colors BackgroundColor { get; set; }
    [Parameter] public StyleVariant StyleVariant { get; set; } = StyleVariant.Default;
    [Parameter] public ShapeVariant ShapeVariant { get; set; } = ShapeVariant.Default;

    [Parameter] public RenderFragment ChildContent { get; set; } = null!;
    
    public Colors? GetColorByVariant(ColorVariant? colorVariant)
    {
        return colorVariant switch
        {
            ColorVariant.Primary => PrimaryColor,
            ColorVariant.Secondary => SecondaryColor,
            ColorVariant.Accent => AccentColor,
            _ => null
        };
    }

    /// <summary>
    /// Call the same function with the non-null value
    /// </summary>
    /// <param name="colorVariant"></param>
    /// <returns></returns>
    public Colors? GetColorByVariant(ColorVariant colorVariant) => GetColorByVariant((ColorVariant?)colorVariant);


}